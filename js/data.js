// ì±—ë´‡ ì‘ë‹µ ë°ì´í„°
const chatbotData = {
    // ì¸ì‚¬ë§
    greetings: [
        "ì•ˆë…•í•˜ì„¸ìš”! ì˜¤ëŠ˜ í•˜ë£¨ëŠ” ì–´ë– ì„¸ìš”? ðŸ˜Š",
        "ë°˜ê°€ì›Œìš”! ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?",
        "ì•ˆë…•í•˜ì„¸ìš”! ì¢‹ì€ í•˜ë£¨ ë³´ë‚´ê³  ê³„ì‹ ê°€ìš”?",
        "ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” ë‹¹ì‹ ì˜ AI ì–´ì‹œìŠ¤í„´íŠ¸ìž…ë‹ˆë‹¤. ðŸ¤–",
        "ë°˜ê°‘ìŠµë‹ˆë‹¤! ì–´ë–¤ ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ„ê³  ì‹¶ìœ¼ì‹ ê°€ìš”?"
    ],

    // ë„ì›€ë§
    help: [
        `ì €ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤:

ðŸ”¹ **ì¼ë°˜ ëŒ€í™”**: ìžìœ ë¡­ê²Œ ëŒ€í™”í•  ìˆ˜ ìžˆì–´ìš”
ðŸ”¹ **ì •ë³´ ì œê³µ**: ë‹¤ì–‘í•œ ì£¼ì œì— ëŒ€í•´ ì•Œë ¤ë“œë ¤ìš”  
ðŸ”¹ **ì¶”ì²œ**: ì˜í™”, ìŒì•…, ì±… ë“±ì„ ì¶”ì²œí•´ë“œë ¤ìš”
ðŸ”¹ **ê°„ë‹¨í•œ ê³„ì‚°**: ê¸°ë³¸ì ì¸ ê³„ì‚°ì„ ë„ì™€ë“œë ¤ìš”
ðŸ”¹ **ë‚ ì”¨ ì •ë³´**: í˜„ìž¬ ë‚ ì”¨ë‚˜ ê¸°ìƒ ì •ë³´ë¥¼ ì•Œë ¤ë“œë ¤ìš”
ðŸ”¹ **ì‹œê°„/ë‚ ì§œ**: í˜„ìž¬ ì‹œê°„ì´ë‚˜ ë‚ ì§œë¥¼ ì•Œë ¤ë“œë ¤ìš”

ë¬´ì—‡ì´ë“  íŽ¸í•˜ê²Œ ë¬¼ì–´ë³´ì„¸ìš”! ðŸ˜„`
    ],

    // ê¸°ëŠ¥ ì†Œê°œ
    features: [
        `ì•ˆë…•í•˜ì„¸ìš”! ì €ì˜ ì£¼ìš” ê¸°ëŠ¥ë“¤ì„ ì†Œê°œí•´ë“œë¦´ê²Œìš”:

âœ¨ **ìŠ¤ë§ˆíŠ¸ ëŒ€í™”**
- ìžì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ ëŒ€í™”
- ë¬¸ë§¥ì„ ì´í•´í•œ ì‘ë‹µ
- ë‹¤ì–‘í•œ ì£¼ì œ í† ë¡ 

ðŸŽ¯ **ì‹¤ìš©ì  ê¸°ëŠ¥**
- ì‹¤ì‹œê°„ ì •ë³´ ì œê³µ
- ê³„ì‚°ê¸° ê¸°ëŠ¥
- ì¼ì • ê´€ë¦¬ ë„ì›€
- ë²ˆì—­ ì§€ì›

ðŸŽ¨ **ì°½ìž‘ ë„ìš°ë¯¸**
- ê¸€ì“°ê¸° ë„ì›€
- ì•„ì´ë””ì–´ ì œì•ˆ
- ì°½ì˜ì  ë¸Œë ˆì¸ìŠ¤í† ë°

ðŸ“š **í•™ìŠµ ì§€ì›**
- ê°œë… ì„¤ëª…
- ë¬¸ì œ í•´ê²° ë„ì›€
- í•™ìŠµ ê³„íš ìˆ˜ë¦½

ë” ìžì„¸í•œ ë‚´ìš©ì´ ê¶ê¸ˆí•˜ì‹œë©´ ì–¸ì œë“  ë¬¼ì–´ë³´ì„¸ìš”! ðŸš€`
    ],

    // ê°ì •/ê¸°ë¶„ ê´€ë ¨
    emotions: {
        happy: [
            "ì •ë§ ì¢‹ì€ ì†Œì‹ì´ë„¤ìš”! í•¨ê»˜ ê¸°ë»í•´ìš”! ðŸŽ‰",
            "ì™€! ì •ë§ ë©‹ì ¸ìš”! ê¸°ë¶„ì´ ì¢‹ìœ¼ì‹œê² ì–´ìš”! ðŸ˜„",
            "í›Œë¥­í•˜ë„¤ìš”! ê³„ì† ì¢‹ì€ ì¼ë§Œ ìžˆê¸°ë¥¼ ë°”ë¼ìš”! âœ¨"
        ],
        sad: [
            "íž˜ë“  ì‹œê°„ì„ ë³´ë‚´ê³  ê³„ì‹œëŠ”êµ°ìš”. ê´œì°®ìœ¼ì‹¤ ê±°ì˜ˆìš”. ðŸ’™",
            "ë•Œë¡œëŠ” ê·¸ëŸ° ë‚ ë“¤ì´ ìžˆì–´ìš”. ì €ì™€ ì´ì•¼ê¸°í•˜ë©´ì„œ ê¸°ë¶„ì„ í’€ì–´ë³´ì„¸ìš”.",
            "ìŠ¬í”ˆ ì¼ì´ ìžˆìœ¼ì…¨ë‚˜ ë´ìš”. ì–¸ì œë“  ì €ì™€ ëŒ€í™”í•˜ë©° ìœ„ë¡œë°›ìœ¼ì„¸ìš”."
        ],
        angry: [
            "í™”ê°€ ë‚˜ëŠ” ì¼ì´ ìžˆìœ¼ì…¨êµ°ìš”. ì‹¬í˜¸í¡ì„ í•œë²ˆ í•´ë³´ì„¸ìš”. ðŸ˜®â€ðŸ’¨",
            "ìŠ¤íŠ¸ë ˆìŠ¤ê°€ ë§Žìœ¼ì‹œêµ°ìš”. ìž ì‹œ íœ´ì‹ì„ ì·¨í•´ë³´ì‹œëŠ” ê±´ ì–´ë–¨ê¹Œìš”?",
            "ì–´ë ¤ìš´ ìƒí™©ì´ì‹ ê°€ ë´ìš”. ì°¨ê·¼ì°¨ê·¼ í•´ê²°í•´ë³´ê² ì–´ìš”."
        ],
        tired: [
            "ë§Žì´ í”¼ê³¤í•˜ì‹œê² ì–´ìš”. ì¶©ë¶„í•œ íœ´ì‹ì„ ì·¨í•˜ì„¸ìš”! ðŸ˜´",
            "ê³ ìƒì´ ë§Žìœ¼ì…¨ì–´ìš”. ìž ì‹œ ì‰¬ì–´ê°€ëŠ” ê²ƒë„ í•„ìš”í•´ìš”.",
            "ë¬´ë¦¬í•˜ì§€ ë§ˆì‹œê³  ëª¸ì„ ë¨¼ì € ì±™ê¸°ì„¸ìš”!"
        ]
    },

    // ì‹œê°„/ë‚ ì§œ ê´€ë ¨
    time: [
        "í˜„ìž¬ ì‹œê°„ì„ í™•ì¸í•´ë“œë¦´ê²Œìš”! â°",
        "ì§€ê¸ˆ ì‹œê°ì„ ì•Œë ¤ë“œë¦¬ê² ìŠµë‹ˆë‹¤!",
        "í˜„ìž¬ ì‹œê°„ ì •ë³´ìž…ë‹ˆë‹¤:"
    ],

    // ê³„ì‚° ê´€ë ¨
    calculation: [
        "ê³„ì‚° ê²°ê³¼ë¥¼ ì•Œë ¤ë“œë¦´ê²Œìš”! ðŸ§®",
        "ìˆ˜í•™ ë¬¸ì œë¥¼ í’€ì–´ë“œë ¸ì–´ìš”!",
        "ê³„ì‚°ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤:"
    ],

    // ë‚ ì”¨ ê´€ë ¨
    weather: [
        "ë‚ ì”¨ ì •ë³´ë¥¼ í™•ì¸í•´ë“œë¦´ê²Œìš”! ðŸŒ¤ï¸",
        "í˜„ìž¬ ê¸°ìƒ ìƒí™©ì„ ì•Œë ¤ë“œë¦¬ê² ìŠµë‹ˆë‹¤!",
        "ë‚ ì”¨ê°€ ê¶ê¸ˆí•˜ì‹œêµ°ìš”! í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤."
    ],

    // ì¶”ì²œ ê´€ë ¨
    recommendations: {
        movie: [
            "ì˜í™” ì¶”ì²œì„ í•´ë“œë¦´ê²Œìš”! ðŸŽ¬",
            "ì¢‹ì€ ì˜í™”ë“¤ì„ ì¶”ì²œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤!",
            "ì–´ë–¤ ìž¥ë¥´ì˜ ì˜í™”ë¥¼ ì¢‹ì•„í•˜ì‹œë‚˜ìš”?"
        ],
        music: [
            "ìŒì•… ì¶”ì²œì„ í•´ë“œë¦´ê²Œìš”! ðŸŽµ",
            "ì¢‹ì€ ìŒì•…ë“¤ì„ ì†Œê°œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤!",
            "ì–´ë–¤ ìŠ¤íƒ€ì¼ì˜ ìŒì•…ì„ ì„ í˜¸í•˜ì‹œë‚˜ìš”?"
        ],
        book: [
            "ì±… ì¶”ì²œì„ í•´ë“œë¦´ê²Œìš”! ðŸ“š",
            "ì¢‹ì€ ë„ì„œë“¤ì„ ì¶”ì²œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤!",
            "ì–´ë–¤ ë¶„ì•¼ì˜ ì±…ì— ê´€ì‹¬ì´ ìžˆìœ¼ì‹ ê°€ìš”?"
        ],
        food: [
            "ë§›ìžˆëŠ” ìŒì‹ì„ ì¶”ì²œí•´ë“œë¦´ê²Œìš”! ðŸ½ï¸",
            "ìš”ë¦¬ ì¶”ì²œì„ í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤!",
            "ì–´ë–¤ ì¢…ë¥˜ì˜ ìŒì‹ì„ ë“œì‹œê³  ì‹¶ìœ¼ì‹ ê°€ìš”?"
        ]
    },

    // ì¼ë°˜ ì§ˆë¬¸ ì‘ë‹µ
    general: [
        "í¥ë¯¸ë¡œìš´ ì§ˆë¬¸ì´ë„¤ìš”! ë” ìžì„¸ížˆ ë§ì”€í•´ì£¼ì„¸ìš”.",
        "ê·¸ì— ëŒ€í•´ ë” ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤!",
        "ì¢‹ì€ ì§ˆë¬¸ìž…ë‹ˆë‹¤! í•¨ê»˜ ìƒê°í•´ë³´ê² ì–´ìš”.",
        "ë” êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª…í•´ì£¼ì‹œë©´ ë” ë„ì›€ì´ ë  ê²ƒ ê°™ì•„ìš”!",
        "ìž¬ë¯¸ìžˆëŠ” ì£¼ì œë„¤ìš”! ì–´ë–¤ ë¶€ë¶„ì´ ê°€ìž¥ ê¶ê¸ˆí•˜ì‹ ê°€ìš”?"
    ],

    // ê°ì‚¬ ì¸ì‚¬
    thanks: [
        "ì²œë§Œì—ìš”! ì–¸ì œë“ ì§€ ë„ì™€ë“œë¦´ê²Œìš”! ðŸ˜Š",
        "ë³„ë§ì”€ì„ìš”! ë” ê¶ê¸ˆí•œ ê²ƒì´ ìžˆìœ¼ì‹œë©´ ì–¸ì œë“  ë¬¼ì–´ë³´ì„¸ìš”!",
        "ë„ì›€ì´ ë˜ì–´ì„œ ë‹¤í–‰ìž…ë‹ˆë‹¤! ðŸŽ‰",
        "ê¸°êº¼ì´ ë„ì™€ë“œë ¸ì–´ìš”! ë˜ ë‹¤ë¥¸ ì§ˆë¬¸ì´ ìžˆìœ¼ì‹œë©´ ë§ì”€í•´ì£¼ì„¸ìš”!"
    ],

    // ìž‘ë³„ ì¸ì‚¬
    goodbye: [
        "ì•ˆë…•ížˆ ê°€ì„¸ìš”! ì¢‹ì€ í•˜ë£¨ ë³´ë‚´ì„¸ìš”! ðŸ‘‹",
        "ë‹¤ìŒì— ë˜ ë§Œë‚˜ìš”! ì–¸ì œë“  ë‹¤ì‹œ ì˜¤ì„¸ìš”! ðŸ˜Š",
        "ì¦ê±°ì› ì–´ìš”! ë˜ ëŒ€í™”í•´ìš”! âœ¨",
        "ì¢‹ì€ ì‹œê°„ì´ì—ˆì–´ìš”! í–‰ë³µí•œ í•˜ë£¨ ë˜ì„¸ìš”! ðŸŒŸ"
    ],

    // ëª¨ë¥´ê² ì„ ë•Œ ì‘ë‹µ
    unknown: [
        "ì£„ì†¡í•´ìš”, ìž˜ ì´í•´í•˜ì§€ ëª»í–ˆì–´ìš”. ë‹¤ì‹œ ë§ì”€í•´ì£¼ì‹œê² ì–´ìš”? ðŸ¤”",
        "ì¡°ê¸ˆ ë” êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª…í•´ì£¼ì‹œë©´ ë” ì¢‹ì„ ê²ƒ ê°™ì•„ìš”!",
        "ì•„ì§ ê·¸ ë¶€ë¶„ì€ ìž˜ ëª¨ë¥´ê² ì–´ìš”. ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì§ˆë¬¸í•´ì£¼ì„¸ìš”!",
        "í ... ë‹¤ì‹œ í•œë²ˆ ì„¤ëª…í•´ì£¼ì‹œê² ì–´ìš”?",
        "ê·¸ ë¶€ë¶„ì€ ì•„ì§ í•™ìŠµì´ ë¶€ì¡±í•´ìš”. ë” ê°„ë‹¨í•˜ê²Œ ë¬¼ì–´ë³´ì‹¤ ìˆ˜ ìžˆë‚˜ìš”?"
    ],

    // ì¹­ì°¬ë°›ì•˜ì„ ë•Œ
    praise: [
        "ê³ ë§ˆì›Œìš”! ë” ì—´ì‹¬ížˆ ë„ì™€ë“œë¦´ê²Œìš”! ðŸ˜Š",
        "ì¹­ì°¬í•´ì£¼ì…”ì„œ ê°ì‚¬í•´ìš”! ê¸°ë¶„ì´ ì¢‹ì•„ì ¸ìš”! âœ¨",
        "ê·¸ë ‡ê²Œ ë§ì”€í•´ì£¼ì‹œë‹ˆ íž˜ì´ ë‚˜ë„¤ìš”! ðŸ’ª",
        "ì •ë§ ê³ ë§ˆì›Œìš”! ë” ìœ ìš©í•œ ë„ì›€ì„ ë“œë¦¬ë„ë¡ ë…¸ë ¥í• ê²Œìš”!"
    ]
};

// í‚¤ì›Œë“œ ë§¤ì¹­ì„ ìœ„í•œ íŒ¨í„´ë“¤
const keywordPatterns = {
    greetings: ["ì•ˆë…•", "ì•ˆë…•í•˜ì„¸ìš”", "ë°˜ê°€ì›Œ", "ì²˜ìŒ", "hello", "hi"],
    help: ["ë„ì›€", "ë„ì™€ì¤˜", "help", "ì‚¬ìš©ë²•", "ê¸°ëŠ¥", "ë­í•´", "ë­˜í•´"],
    features: ["ê¸°ëŠ¥", "ì†Œê°œ", "ë¬´ì—‡", "ë­”ê°€", "ëŠ¥ë ¥", "í• ìˆ˜ìžˆëŠ”"],
    time: ["ì‹œê°„", "ì§€ê¸ˆ", "ëª‡ì‹œ", "time", "í˜„ìž¬"],
    weather: ["ë‚ ì”¨", "ê¸°ì˜¨", "ë¹„", "ëˆˆ", "weather", "ì˜¨ë„"],
    calculation: ["ê³„ì‚°", "ë”í•˜ê¸°", "ë¹¼ê¸°", "ê³±í•˜ê¸°", "ë‚˜ëˆ„ê¸°", "+", "-", "*", "/", "="],
    thanks: ["ê°ì‚¬", "ê³ ë§ˆì›Œ", "thanks", "thank you", "ê³ ë§™"],
    goodbye: ["ì•ˆë…•", "ìž˜ê°€", "bye", "goodbye", "ë‚˜ê°€", "ë"],
    movie: ["ì˜í™”", "movie", "ë“œë¼ë§ˆ", "ì‹œë¦¬ì¦ˆ"],
    music: ["ìŒì•…", "ë…¸ëž˜", "music", "song", "ê°€ìˆ˜"],
    book: ["ì±…", "book", "ì†Œì„¤", "reading"],
    food: ["ìŒì‹", "food", "ìš”ë¦¬", "ë¨¹ì„ê±°", "ì‹ë‹¹", "ë ˆì‹œí”¼"],
    happy: ["ì¢‹ì•„", "ê¸°ë»", "í–‰ë³µ", "ì‹ ë‚˜", "ìµœê³ ", "êµ¿"],
    sad: ["ìŠ¬í¼", "ìš°ìš¸", "íž˜ë“¤ì–´", "ì†ìƒ", "sad"],
    angry: ["í™”ë‚˜", "ì§œì¦", "angry", "ë¹¡ì³"],
    tired: ["í”¼ê³¤", "tired", "ì§€ì³", "íž˜ë“¤ì–´"],
    praise: ["ìž˜í•´", "ë˜‘ë˜‘", "í›Œë¥­", "ë©‹ì ¸", "ëŒ€ë‹¨", "amazing", "good", "great"]
};

// ëžœë¤ ì‘ë‹µ ì„ íƒ í•¨ìˆ˜
function getRandomResponse(responseArray) {
    return responseArray[Math.floor(Math.random() * responseArray.length)];
}

// í‚¤ì›Œë“œ ë§¤ì¹­ í•¨ìˆ˜
function matchKeywords(input) {
    const lowerInput = input.toLowerCase();
    
    for (const [category, keywords] of Object.entries(keywordPatterns)) {
        if (keywords.some(keyword => lowerInput.includes(keyword))) {
            return category;
        }
    }
    return null;
}