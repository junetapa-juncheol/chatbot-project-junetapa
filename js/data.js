// 챗봇 응답 데이터
const chatbotData = {
    // 인사말
    greetings: [
        "안녕하세요! 오늘 하루는 어떠세요? 😊",
        "반가워요! 무엇을 도와드릴까요?",
        "안녕하세요! 좋은 하루 보내고 계신가요?",
        "안녕하세요! 저는 당신의 AI 어시스턴트입니다. 🤖",
        "반갑습니다! 어떤 이야기를 나누고 싶으신가요?"
    ],

    // 도움말
    help: [
        `저는 다음과 같은 기능을 제공합니다:

🔹 **일반 대화**: 자유롭게 대화할 수 있어요
🔹 **정보 제공**: 다양한 주제에 대해 알려드려요  
🔹 **추천**: 영화, 음악, 책 등을 추천해드려요
🔹 **간단한 계산**: 기본적인 계산을 도와드려요
🔹 **날씨 정보**: 현재 날씨나 기상 정보를 알려드려요
🔹 **시간/날짜**: 현재 시간이나 날짜를 알려드려요

무엇이든 편하게 물어보세요! 😄`
    ],

    // 기능 소개
    features: [
        `안녕하세요! 저의 주요 기능들을 소개해드릴게요:

✨ **스마트 대화**
- 자연스러운 한국어 대화
- 문맥을 이해한 응답
- 다양한 주제 토론

🎯 **실용적 기능**
- 실시간 정보 제공
- 계산기 기능
- 일정 관리 도움
- 번역 지원

🎨 **창작 도우미**
- 글쓰기 도움
- 아이디어 제안
- 창의적 브레인스토밍

📚 **학습 지원**
- 개념 설명
- 문제 해결 도움
- 학습 계획 수립

더 자세한 내용이 궁금하시면 언제든 물어보세요! 🚀`
    ],

    // 감정/기분 관련
    emotions: {
        happy: [
            "정말 좋은 소식이네요! 함께 기뻐해요! 🎉",
            "와! 정말 멋져요! 기분이 좋으시겠어요! 😄",
            "훌륭하네요! 계속 좋은 일만 있기를 바라요! ✨"
        ],
        sad: [
            "힘든 시간을 보내고 계시는군요. 괜찮으실 거예요. 💙",
            "때로는 그런 날들이 있어요. 저와 이야기하면서 기분을 풀어보세요.",
            "슬픈 일이 있으셨나 봐요. 언제든 저와 대화하며 위로받으세요."
        ],
        angry: [
            "화가 나는 일이 있으셨군요. 심호흡을 한번 해보세요. 😮‍💨",
            "스트레스가 많으시군요. 잠시 휴식을 취해보시는 건 어떨까요?",
            "어려운 상황이신가 봐요. 차근차근 해결해보겠어요."
        ],
        tired: [
            "많이 피곤하시겠어요. 충분한 휴식을 취하세요! 😴",
            "고생이 많으셨어요. 잠시 쉬어가는 것도 필요해요.",
            "무리하지 마시고 몸을 먼저 챙기세요!"
        ]
    },

    // 시간/날짜 관련
    time: [
        "현재 시간을 확인해드릴게요! ⏰",
        "지금 시각을 알려드리겠습니다!",
        "현재 시간 정보입니다:"
    ],

    // 계산 관련
    calculation: [
        "계산 결과를 알려드릴게요! 🧮",
        "수학 문제를 풀어드렸어요!",
        "계산이 완료되었습니다:"
    ],

    // 날씨 관련
    weather: [
        "날씨 정보를 확인해드릴게요! 🌤️",
        "현재 기상 상황을 알려드리겠습니다!",
        "날씨가 궁금하시군요! 확인해보겠습니다."
    ],

    // 추천 관련
    recommendations: {
        movie: [
            "영화 추천을 해드릴게요! 🎬",
            "좋은 영화들을 추천해드리겠습니다!",
            "어떤 장르의 영화를 좋아하시나요?"
        ],
        music: [
            "음악 추천을 해드릴게요! 🎵",
            "좋은 음악들을 소개해드리겠습니다!",
            "어떤 스타일의 음악을 선호하시나요?"
        ],
        book: [
            "책 추천을 해드릴게요! 📚",
            "좋은 도서들을 추천해드리겠습니다!",
            "어떤 분야의 책에 관심이 있으신가요?"
        ],
        food: [
            "맛있는 음식을 추천해드릴게요! 🍽️",
            "요리 추천을 해드리겠습니다!",
            "어떤 종류의 음식을 드시고 싶으신가요?"
        ]
    },

    // 일반 질문 응답
    general: [
        "흥미로운 질문이네요! 더 자세히 말씀해주세요.",
        "그에 대해 더 알아보겠습니다!",
        "좋은 질문입니다! 함께 생각해보겠어요.",
        "더 구체적으로 설명해주시면 더 도움이 될 것 같아요!",
        "재미있는 주제네요! 어떤 부분이 가장 궁금하신가요?"
    ],

    // 감사 인사
    thanks: [
        "천만에요! 언제든지 도와드릴게요! 😊",
        "별말씀을요! 더 궁금한 것이 있으시면 언제든 물어보세요!",
        "도움이 되어서 다행입니다! 🎉",
        "기꺼이 도와드렸어요! 또 다른 질문이 있으시면 말씀해주세요!"
    ],

    // 작별 인사
    goodbye: [
        "안녕히 가세요! 좋은 하루 보내세요! 👋",
        "다음에 또 만나요! 언제든 다시 오세요! 😊",
        "즐거웠어요! 또 대화해요! ✨",
        "좋은 시간이었어요! 행복한 하루 되세요! 🌟"
    ],

    // 모르겠을 때 응답
    unknown: [
        "죄송해요, 잘 이해하지 못했어요. 다시 말씀해주시겠어요? 🤔",
        "조금 더 구체적으로 설명해주시면 더 좋을 것 같아요!",
        "아직 그 부분은 잘 모르겠어요. 다른 방식으로 질문해주세요!",
        "흠... 다시 한번 설명해주시겠어요?",
        "그 부분은 아직 학습이 부족해요. 더 간단하게 물어보실 수 있나요?"
    ],

    // 칭찬받았을 때
    praise: [
        "고마워요! 더 열심히 도와드릴게요! 😊",
        "칭찬해주셔서 감사해요! 기분이 좋아져요! ✨",
        "그렇게 말씀해주시니 힘이 나네요! 💪",
        "정말 고마워요! 더 유용한 도움을 드리도록 노력할게요!"
    ]
};

// 키워드 매칭을 위한 패턴들
const keywordPatterns = {
    greetings: ["안녕", "안녕하세요", "반가워", "처음", "hello", "hi"],
    help: ["도움", "도와줘", "help", "사용법", "기능", "뭐해", "뭘해"],
    features: ["기능", "소개", "무엇", "뭔가", "능력", "할수있는"],
    time: ["시간", "지금", "몇시", "time", "현재"],
    weather: ["날씨", "기온", "비", "눈", "weather", "온도"],
    calculation: ["계산", "더하기", "빼기", "곱하기", "나누기", "+", "-", "*", "/", "="],
    thanks: ["감사", "고마워", "thanks", "thank you", "고맙"],
    goodbye: ["안녕", "잘가", "bye", "goodbye", "나가", "끝"],
    movie: ["영화", "movie", "드라마", "시리즈"],
    music: ["음악", "노래", "music", "song", "가수"],
    book: ["책", "book", "소설", "reading"],
    food: ["음식", "food", "요리", "먹을거", "식당", "레시피"],
    happy: ["좋아", "기뻐", "행복", "신나", "최고", "굿"],
    sad: ["슬퍼", "우울", "힘들어", "속상", "sad"],
    angry: ["화나", "짜증", "angry", "빡쳐"],
    tired: ["피곤", "tired", "지쳐", "힘들어"],
    praise: ["잘해", "똑똑", "훌륭", "멋져", "대단", "amazing", "good", "great"]
};

// 랜덤 응답 선택 함수
function getRandomResponse(responseArray) {
    return responseArray[Math.floor(Math.random() * responseArray.length)];
}

// 키워드 매칭 함수
function matchKeywords(input) {
    const lowerInput = input.toLowerCase();
    
    for (const [category, keywords] of Object.entries(keywordPatterns)) {
        if (keywords.some(keyword => lowerInput.includes(keyword))) {
            return category;
        }
    }
    return null;
}